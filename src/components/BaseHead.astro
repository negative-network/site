---
import CookieComponent from "./Cookies.astro";
import "../assets/styles.css";
import { getImage } from "astro:assets";
import faviconSrc from "../assets/images/logo-NN-black.png";
// import Cookies from "./Cookies.astro";
const { title, description } = Astro.props;
const appleTouchIcon = await getImage({
  src: faviconSrc,
  width: 96,
  height: 96,
  format: "png",
});
---

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width" />
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="robots" content="index, follow" />
<title>{title}</title>
<meta name="author" content="Negative Network" />
<meta name="description" content={description} />
<meta
  name="keywords"
  content="Negative Network, développement web, création de site, Grenoble, Isère, Auvergne Rhones-Alpes, France, WordPress, Laravel, Bases de données, Formations"
/>
<link rel="apple-touch-icon" href={appleTouchIcon.src} />
<link rel="manifest" href="/manifest.json" />

<meta name="msapplication-TileColor" content="#ffffff" />
<meta name="theme-color" content="#ffffff" />

<!--Ionicons -->
<script
  type="module"
  src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<!--
https://rsms.me/inter/
-->

<link rel="preconnect" href="https://rsms.me/" />
<link rel="preconnect" href="https://rsms.me/inter/inter.css" />

<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&display=swap"
  rel="stylesheet"
  media="print"
  onload="this.onload=null;this.removeAttribute('media');"
/>

<!---- Alpine  -->
<script defer src="https://unpkg.com/alpinejs@3.10.5/dist/cdn.min.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const sections = document.querySelectorAll("section.scrolled-to");

    sections.forEach((section, index) => {

      if (typeof sections[index + 1] === "undefined") return;
      
      let next = document.getElementById(sections[index + 1].id);

      let scrollDownLink = document.createElement("div");
      // scrollDownLink.classList.add("flex");
      // scrollDownLink.classList.add("flex-col");
      // scrollDownLink.classList.add("items-center");
      // scrollDownLink.classList.add("justify-center");
      scrollDownLink.innerHTML = `
                              <a href="#" class="scroll-down text-blue-400 hover:text-blue-500">
                                <ion-icon name="chevron-down-outline" class="text-4xl animate-bounce [animation-duration:_2s]"></ion-icon>
                              </a>`;

      section.appendChild(scrollDownLink);

      // section.innerHTML += scrollDownLink;

      //scroll down event
      const scrollDown = section.querySelector(".scroll-down");

      if (scrollDown) {
        scrollDown.addEventListener("click", function (e) {
          e.preventDefault();
          next.scrollIntoView({ behavior: "smooth" });
        });
      }
    });
  });
</script>

<CookieComponent />
